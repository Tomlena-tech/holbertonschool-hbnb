### ========================================
### TESTS API HBNB - AVEC JWT
### ========================================

@baseUrl = http://localhost:5002
@contentType = application/json

### ========================================
### 1. INSCRIPTION (PUBLIC - pas de token)
### ========================================

POST {{baseUrl}}/api/v1/users/
Content-Type: {{contentType}}

{
  "first_name": "Alice",
  "last_name": "Martin",
  "email": "alice@example.com",
  "password": "SecurePass123!"
}

### ========================================
### 2. CONNEXION (PUBLIC - pas de token)
### ========================================

# @name login
POST {{baseUrl}}/api/v1/auth/login
Content-Type: {{contentType}}

{
  "email": "alice@example.com",
  "password": "SecurePass123!"
}

### Sauvegarder le token
@token = {{login.response.body.access_token}}

### ========================================
### 3. TESTER SANS TOKEN (devrait √©chouer)
### ========================================

### GET Users SANS token (401 attendu)
GET {{baseUrl}}/api/v1/users/

### GET Places SANS token (401 attendu)
GET {{baseUrl}}/api/v1/places/

### ========================================
### 4. TESTER AVEC TOKEN (devrait marcher)
### ========================================

### GET Users AVEC token
GET {{baseUrl}}/api/v1/users/
Authorization: Bearer {{token}}

### GET User sp√©cifique AVEC token
GET {{baseUrl}}/api/v1/users/705e895c-86a0-493e-aaa7-f2f003f8fd81
Authorization: Bearer {{token}}

### GET Places AVEC token
GET {{baseUrl}}/api/v1/places/
Authorization: Bearer {{token}}

### GET Reviews AVEC token
GET {{baseUrl}}/api/v1/reviews/
Authorization: Bearer {{token}}

### GET Amenities AVEC token
GET {{baseUrl}}/api/v1/amenities/
Authorization: Bearer {{token}}

### ========================================
### 5. CR√âER DES RESSOURCES (avec token)
### ========================================

### Cr√©er un Place
POST {{baseUrl}}/api/v1/places/
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "title": "Bel appartement √† Paris",
  "description": "Studio cosy au coeur de Paris",
  "price": 100,
  "latitude": 48.8566,
  "longitude": 2.3522
}

### Cr√©er une Review
POST {{baseUrl}}/api/v1/reviews/
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "place_id": "some-place-id",
  "rating": 5,
  "comment": "Excellent s√©jour!"
}

### Cr√©er une Amenity
POST {{baseUrl}}/api/v1/amenities/
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "name": "WiFi"
}

### ========================================
### 6. MODIFIER DES RESSOURCES (avec token)
### ========================================

### Modifier un User
PUT {{baseUrl}}/api/v1/users/705e895c-86a0-493e-aaa7-f2f003f8fd81
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "first_name": "Alicia",
  "last_name": "Martinez"
}

### ========================================
### 7. ENDPOINT PROT√âG√â DE TEST
### ========================================

### Acc√©der √† /protected avec token
GET {{baseUrl}}/api/v1/protected
Authorization: Bearer {{token}}

### Acc√©der √† /protected SANS token (devrait √©chouer)
GET {{baseUrl}}/api/v1/protected
```

---

## üìç O√π Mettre Ce Fichier ?

**Emplacement :**
```
part3/
‚îî‚îÄ‚îÄ hbnb/
    ‚îî‚îÄ‚îÄ api_tests.http  ‚Üê ICI
